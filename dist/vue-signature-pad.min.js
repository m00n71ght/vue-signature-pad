var VueSignaturePad=function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=r(e),i=r(n);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n,r,a,i,o){try{var u=t[i](o),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,a)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){s(i,r,a,o,u,"next",t)}function u(t){s(i,r,a,o,u,"throw",t)}o(void 0)}))}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,u=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(t){u=!0,a=t}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var m=["image/png","image/jpeg","image/svg+xml"],p=function(t){return m.includes(t)},v={dotSize:1.5,minWidth:.5,maxWidth:2.5,throttle:16,minDistance:5,backgroundColor:"rgba(0,0,0,0)",penColor:"black",velocityFilterWeight:.7,onBegin:function(){},onEnd:function(){}},y=function(t){return JSON.parse(JSON.stringify(t))},b={src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",x:0,y:0},A=t.defineComponent({name:"VueSignaturePad",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},customStyle:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},images:{type:Array,default:function(){return[]}}},data:function(){return{signaturePad:{},cacheImages:[],signatureData:b,onResizeHandler:null}},computed:{propsImagesAndCustomImages:function(){var t=y(this.images),e=y(this.cacheImages);return[].concat(l(t),l(e))}},watch:{options:function(t){var e=this;Object.keys(t).forEach((function(n){e.signaturePad[n]&&(e.signaturePad[n]=t[n])}))}},mounted:function(){var t=this.options,e=this.$refs.signaturePadCanvas,n=new a.default(e,u(u({},v),t));this.signaturePad=n,t.resizeHandler&&(this.resizeCanvas=t.resizeHandler.bind(this)),this.onResizeHandler=this.resizeCanvas.bind(this),window.addEventListener("resize",this.onResizeHandler,!1),this.resizeCanvas()},beforeUnmount:function(){this.onResizeHandler&&window.removeEventListener("resize",this.onResizeHandler,!1)},methods:{resizeCanvas:function(){var t=this.$refs.signaturePadCanvas,e=this.signaturePad.toData(),n=Math.max(window.devicePixelRatio||1,1);t.width=t.offsetWidth*n,t.height=t.offsetHeight*n,t.getContext("2d").scale(n,n),this.signaturePad.clear(),this.signatureData=b,this.signaturePad.fromData(e)},fromBlobToDataUrl:function(t,e){var n=this.$refs.signaturePadCanvas;return new Promise((function(r,a){n.toBlob((function(t){var e=new FileReader;e.onloadend=function(){return r(e.result)},e.readAsDataURL(t)}),t,e)}))},saveSignature:function(){var t=arguments,e=this;return c(regeneratorRuntime.mark((function n(){var r,a,i,o,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:m[0],a=t.length>1?t[1]:void 0,i=e.signaturePad,o={isEmpty:!1,data:void 0},p(r)){n.next=7;break}throw s=m.join(", "),new Error("The Image type is incorrect! We are support ".concat(s," types."));case 7:if(!i.isEmpty()){n.next=11;break}return n.abrupt("return",u(u({},o),{},{isEmpty:!0}));case 11:return n.next=13,e.fromBlobToDataUrl(r,a);case 13:return e.signatureData=n.sent,n.abrupt("return",u(u({},o),{},{data:e.signatureData}));case 15:case"end":return n.stop()}}),n)})))()},undoSignature:function(){var t=this.signaturePad,e=t.toData();if(e)return t.fromData(e.slice(0,-1))},mergeImageAndSignature:function(t){return this.signatureData=t,i.default([].concat(l(this.images),l(this.cacheImages),[this.signatureData]))},addImages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.cacheImages=[].concat(l(this.cacheImages),l(t)),i.default([].concat(l(this.images),l(this.cacheImages),[this.signatureData]))},fromDataURL:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this.signaturePad.fromDataURL(t,e,n)},fromData:function(t){return this.signaturePad.fromData(t)},toData:function(){return this.signaturePad.toData()},lockSignaturePad:function(){return this.signaturePad.off()},openSignaturePad:function(){return this.signaturePad.on()},isEmpty:function(){return this.signaturePad.isEmpty()},getPropImagesAndCacheImages:function(){return this.propsImagesAndCustomImages},clearCacheImages:function(){return this.cacheImages=[],this.cacheImages},clearSignature:function(){return this.signaturePad.clear()}},render:function(){var e=this.width,n=this.height,r=this.customStyle;return t.h("div",{style:u({width:e,height:n},r)},[t.h("canvas",{style:{width:e,height:n},ref:"signaturePadCanvas"})])}});A.__file="src/components/VueSignaturePad.vue";var P=Object.freeze({__proto__:null,VueSignaturePad:A}),w=function(t){Object.entries(P).forEach((function(e){var n=d(e,2),r=n[0],a=n[1];t.component(r,a)}))},O=Object.freeze({__proto__:null,default:w,VueSignaturePad:A});return Object.entries(O).forEach((function(t){var e=d(t,2),n=e[0],r=e[1];"default"!==n&&(w[n]=r)})),w}(Vue,SignaturePad,mergeImages);